---
description: 透過處理並執行 tasks.md 中定義的所有任務，來執行實作計畫
scripts:
  sh: scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks
  ps: scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks
---

使用者輸入可以由代理程式直接提供，或作為指令參數傳入——在繼續提示前，你**必須**先考慮該輸入（若不為空）。

使用者輸入：

$ARGUMENTS

1. 從程式庫根目錄執行 `{SCRIPT}`，並解析 FEATURE_DIR 與 AVAILABLE_DOCS 清單。所有路徑必須為絕對路徑。

2. 載入並分析實作上下文：
   - **必須**：閱讀 tasks.md，取得完整任務清單與執行計畫
   - **必須**：閱讀 plan.md，了解技術棧、架構與檔案結構
   - **若存在**：閱讀 data-model.md，取得實體與關聯
   - **若存在**：閱讀 contracts/ 目錄，取得 API 規格與測試需求
   - **若存在**：閱讀 research.md，了解技術決策與限制
   - **若存在**：閱讀 quickstart.md，取得整合情境

3. 解析 tasks.md 結構並擷取：
   - **任務階段**：Setup、Tests、Core、Integration、Polish
   - **任務依賴**：串行與並行執行規則
   - **任務細節**：ID、描述、檔案路徑、並行標記 [P]
   - **執行流程**：順序與依賴需求

4. 依照任務計畫執行實作：
   - **逐階段執行**：每個階段完成後再進入下一階段
   - **遵守依賴**：串行任務依序執行，並行任務 [P] 可同時執行  
   - **遵循 TDD 方法**：先執行測試任務，再執行對應的實作任務
   - **以檔案為協調單位**：影響同一檔案的任務必須串行執行
   - **驗證檢查點**：每個階段完成後進行驗證再繼續

5. 實作執行規則：
   - **先 Setup**：初始化專案結構、相依套件、設定檔
   - **先測試再寫程式碼**：若需為 contracts、entities 及整合情境撰寫測試
   - **核心開發**：實作 models、services、CLI commands、endpoints
   - **整合作業**：資料庫連線、中介軟體、日誌、外部服務
   - **優化與驗證**：單元測試、效能優化、文件撰寫

6. 進度追蹤與錯誤處理：
   - 每完成一個任務後回報進度
   - 若有非並行任務失敗則停止執行
   - 對於並行任務 [P]，成功者繼續，失敗者回報
   - 提供具體錯誤訊息與相關背景，方便除錯
   - 若無法繼續實作，建議下一步行動
   - **重要**：已完成的任務，請務必在 tasks 檔案中標記為 [X]

7. 完成驗證：
   - 確認所有必需任務皆已完成
   - 檢查實作功能是否符合原始規格
   - 驗證測試通過且覆蓋率達標
   - 確認實作符合技術計畫
   - 回報最終狀態並總結已完成工作

注意：本指令假設 tasks.md 已有完整的任務拆解。若任務不完整或缺失，請建議先執行 `/tasks` 以重新產生任務清單。